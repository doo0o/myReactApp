<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>메인 : 현대 CPO</title>
	<!--#include file="/HMC/SHTML/H_inc/common_meta.shtml"-->
	<link rel="stylesheet" type="text/css" href="../../css/h_main_backup.css">
</head>
<body>
<!--#include file="/HMC/SHTML/H_inc/common_skip.shtml"-->
<!-- cpo wrap -->
<div id="CPOwrap">
	<!-- ////////////////////     header   시작     ////////////////////-->
	<div id="CPOheader">
		<!--#include file="/HMC/SHTML/H_inc/layout_header.shtml"-->
		
		<!--  s: title area : MAIN  -->
		<div class="h_navi">
			<div class="menu">
				<h1 class="logo"><a href="#" class="ic_logo">현대CPO</a></h1>
				<button type="button" class="ic_menu" data-ref="menuLayer">내차사기</button>
				<div class="menu_layer" id="menuLayer">
					<ul>
						<li class="on"><a href="#">내차사기</a></li>
						<li><a href="#">내차팔기</a></li>
					</ul>
				</div>
			</div>
			<ul class="util">
				<li><a href="#" class="ic_alarm">알림</a></li>
				<li><a href="#" class="ic_cart">장바구니</a></li>
			</ul>
		</div>
		<!--  e: title area : MAIN  -->

	</div>
	<!-- ////////////////////     header   끝     ////////////////////-->
	<!-- ////////////////////     contents 시작     ////////////////////-->
	<div id="CPOcontents">
		
		<!--  s: hashtag area : MAIN  -->
		<div class="hashtag" id="stickyTit">
			<ul>
				<li class="on"><a href="#">#고객님</a></li>
				<li><a href="#">#신차급시승차</a></li>
				<li><a href="#">#3년미만</a></li>
				<li><a href="#">#30대인기</a></li>
				<li><a href="#">#더뉴그랜저</a></li>
				<li><a href="#">#SUV인기</a></li>
				<li><a href="#">#주차보조옵션</a></li>
			</ul>
		</div>
		<!--  e: hashtag area : MAIN  -->

		<div class="main_container">

			<!-- s: 01. 진입 *앱에서만 사용(미확정)-->
			<!-- <div class="intro">
				<div class="first">
					<p class="title">Hyundai<br>인증 중고차 서비스</p>
					<div class="half">
						<div class="get">
							<div class="text">
								<span>현대자동차 인증</span>
								<span>내차 팔기</span>
							</div>
						</div>
						<div class="sell">
							<div class="text">
								<span>현대자동차 인증</span>
								<span>내차 사기</span>
							</div>
							<div class="today_area">
								<div class="title">오늘 고객님을 기다리는 차량 수</div>
								<div>38,754대</div>

								<div>어제 판매된 차량</div>
								<div>392대</div>

								<div>오늘 들어온 차량</div>
								<div>95대</div>
							</div>
						</div>
					</div>
				</div>
			</div> -->
			<!-- e: 01. 진입 -->

			<div class="section_start">
				<!-- s: 02. Greeting -->
				<div class="section_greeting">
					<div class="title">
						<strong>Hello</strong>
						<div class="sub_text">
							<em>고객님 안녕하세요.</em>
							현대CPO에 오신 것을 환영합니다.
						</div>
					</div>
					<div class="car"><img src="../../img/main/main_car_01.png"  alt=""></div>
				</div>
				<!-- e: 02. Greeting -->

				<!-- s: 03.탐색 제안 영역 -->
				<div class="section_explore">
					<div class="search">
						<p class="text">36분 전, 이런 차량을 검색하셨네요!</p>
						<div class="input_text">2500만원대 . 더 뉴 그랜저 IG . 실버</div>
						<div class="date">2022. 02. 20</div>
					</div>
					<div class="link_area"><a href="#">원하는 차량이 있다면 입고알림 신청하세요!</a></div>
				</div>
				<!-- e: 03.탐색 제안 영역 -->
			</div>

			<div class="section_comingsoon">
				<div class="text">Comming Soon</div>
				<div class="banner"><a href="#"><img src="../../img/main/banner_comingsoon.jpg"  alt=""></a></div>
			</div>

			<!-- s: 04.인기 추천 영역 -->
			<div class="section_best">
				<div class="title">
					<span class="plag">TOP 3</span>
					<em>다른 사람들은<br>어떤 차를 좋아할까?</em>
					<span>지금 가장 인기 많은 차량을<br>확인해보세요</span>
				</div>
				<div class="slide_wrap">
					<div class="slide_best swiper-container">
						<ol class="swiper-wrapper">
							<li class="swiper-slide">
								<P class="text"><em>1</em>쏘나타 DN8 2.0 가솔린 프리미엄</P>
								<P class="car"><img src="../../img/main/top3_car_01.png"  alt=""></P>
							</li>
							<li class="swiper-slide">
								<P class="text"><em>2</em>쏘나타 DN8 2.0 가솔린 프리미엄</P>
								<P class="car"><img src="../../img/main/top3_car_02.png"  alt=""></P>
							</li>
							<li class="swiper-slide">
								<P class="text"><em>3</em>쏘나타 DN8 2.0 가솔린 프리미엄</P>
								<P class="car"><img src="../../img/main/top3_car_03.png"  alt=""></P>
							</li>
						</ol>
					</div>
				</div>
			</div>
			<!-- e: 04.인기 추천 영역 -->

			<!-- s: 05.활동기반 제안 영역 -->
			<div class="section_propose">
				<div class="title">
					고객님이 최근 본
					<em>쏘나타 DN8</em>
				</div>
				<div class="section01 on">
					<div class="graph"><img src="../../img/main/@graph.png" alt=""></div>
					<div class="today_info">
						<p class="text">지금 현대CPO에 준비된 차량 수는</p>
						<p class="num"><em class="count">357</em>대</p>
						<a href="#" class="link">전체 차량 보러가기</a>
					</div>
				</div>
				<div class="section02">
					<div class="graph"><img src="../../img/main/@graph.png" alt=""></div>
					<div class="today_info">
						<p class="text">오늘의 국내 평균 시세는</p>
						<p class="num">2,750~3,330만원</p>
						<a href="#" class="link">실제 거래 이력 확인하기</a>
					</div>
				</div>
				
				<!-- <div class="swiper_area">
					<ul class="swiper-wrapper">
						<li class="swiper-slide">
							<div class="graph"><img src="../../img/main/@graph.png" alt=""></div>
							<div class="today_info">
								<p class="text">지금 현대CPO에 준비된 차량 수는</p>
								<p class="num"><em class="count">357</em>대</p>
								<a href="#" class="link">전체 차량 보러가기</a>
							</div>
						</li>
						<li class="swiper-slide">
							<div class="graph"><img src="../../img/main/@graph.png" alt=""></div>
							<div class="today_info">
								<p class="text">오늘의 국내 평균 시세는</p>
								<p class="num">2,750~3,330만원</p>
								<a href="#" class="link">실제 거래 이력 확인하기</a>
							</div>
						</li>
					</ul>
				</div> -->
			</div>
			<!-- e: 05.활동기반 제안 영역 -->

			<!-- s: 06.Good Data Lab -->
			<div class="section_gooddata">
				<div class="title">
					<em>Good</em>
					<em>Data</em>
					<em>Lab.</em>
				</div>
				<div class="text">
					<P class="type1">
						국내 모든 차량의<br>
						투명한 시세와 거래 정보
					</P>
					<P class="type2">
						굿데이터 연구소에서<br>
						스마트하게 알고 거래하자!
					</P>
					<a href="#" class="link">연구소 바로가기</a>
				</div>
			</div>
			<!-- e: 06.Good Data Lab -->

			<!-- s: 07.내차팔기 -->
			<div class="section_carsell">
				<div class="top_area">
					<p class="title">
						소유하신 차량의<br>
						예상 시세를 알아보세요
					</p>
					<a href="#" class="btn_link">예상견적 받기</a>
					<a href="#" class="link">3D캡처링을 이용한 내차팔기</a>
				</div>
				<div class="car_number">
					<p class="text">
						고객님의 차량 번호를<br>
						입력해주세요
					</p>
					<P id="typing"><span class="text"></span></P>
				</div>
			</div>
			<!-- e: 07.내차팔기 -->

			<!-- s: 08.고객서비스 -->
			<div class="section_service">
				<div class="info">
					<p class="title">현대CPO,<br>무엇이 특별할까요?</p>
					<a href="#" class="link">서비스 안내 보기</a>
					<!-- <div class="slide_service swiper-container">
						<ol class="swiper-wrapper">
							<li class="swiper-slide"><img src="../../img/main/img_service_01.png" alt=""></li>
							<li class="swiper-slide"><img src="../../img/main/img_service_02.png" alt=""></li>
						</ol>
					</div> -->
					<div class="img_type01"><img src="../../img/main/img_service_01.png" alt=""></div>
					<div class="img_type02"><img src="../../img/main/img_service_02.png" alt=""></div>
				</div>
				<div class="faq">
					<p class="title">자주 묻는 질문</p>
					<div class="slide_faq swiper-container">
						<ol class="swiper-wrapper">
							<li class="swiper-slide"><a href="#">소유권 이전은 언제 완료되며필요 서류는 무엇인가요?</a></li>
							<li class="swiper-slide"><a href="#">소유권 이전은 언제 완료되며필요 서류는 무엇인가요?</a></li>
							<li class="swiper-slide"><a href="#">소유권 이전은 언제 완료되며필요 서류는 무엇인가요?</a></li>
							<li class="swiper-slide"><a href="#">소유권 이전은 언제 완료되며필요 서류는 무엇인가요?</a></li>
							<li class="swiper-slide"><a href="#">소유권 이전은 언제 완료되며필요 서류는 무엇인가요?</a></li>
						</ol>
						<div class="swiper-pagination"></div>
					</div>
					<ul class="quick_link">
						<li><a href="#">고객센터</a></li>
						<li><a href="#">상담 챗봇</a></li>
						<li><a href="#">법인안내</a></li>
					</ul>
				</div>
			</div>
			<!-- e: 08.고객서비스 -->
		</div>    
	</div>
	<!-- ////////////////////     contents 끝     ////////////////////-->
	<!--#include file="/HMC/SHTML/H_inc/layout_actionbar.shtml"-->
	<!--#include file="/HMC/SHTML/H_inc/layout_footer.shtml"-->
</div>
<!-- //cpo wrap -->
</body>
<script type="text/javascript">
$.fn.SectionIn = function(fuc){

	var $this = $(this);
	let lastScrollTop = 0;
	var winScrollTop;
	var sectionOfffsetTop;
	var sectionHeight;
	var sectionOffsetBottom;

	var checkInSection = false;
	var sectionIsMoving = false;
	var fastIn;
	var startFunction = fuc;
	var isFunction = startFunction === 'active' ? true : false;

	var $section_best = $('.section_best');
	var $section = $('.section_propose .section01').offset().top;
	var sectionMainTop;
	var sectionMainBottom;

	function setProperty() {
		fastIn = $(window).height() / 2;
		winScrollTop = $(window).scrollTop();
		sectionOfffsetTop = $this.offset().top - fastIn;
		sectionHeight = $this.height();
		sectionOffsetBottom = sectionOfffsetTop + sectionHeight + fastIn;

		sectionMainTop = $section_best.offset().top;
		sectionMainBottom = sectionMainTop + $section_best.outerHeight() - 52; //액션바높이52px
	};

	function scrollFunc() {
		setProperty();
		hashtagSticky();

		//SectionIn
		if(winScrollTop >= sectionOfffsetTop && winScrollTop <= sectionOffsetBottom && $('.main_container').hasClass('on')) {
			
			// Commingsoon 텍스트
			console.log($this);
			if($this.is(".section_comingsoon")){
				var parallaxPercent = Math.floor(($this.offset().top-winScrollTop) / $(window).height()*100);
				
				$('.section_comingsoon .text').css( //계산된 값을 엘리먼트에 적용
					'right', (50 - parallaxPercent*2) + '%'
				);
			}

			//parallax
			if($this.is(".section_propose")){

				if(winScrollTop > sectionMainTop && winScrollTop < sectionMainBottom) { //섹션 진입여부
					
					if(!$('.main_container').hasClass('active') && !$('.hashtag').hasClass('space50')) { // 마우스 내릴때
						$('.main_container').addClass('active');
						$('.section_propose').addClass('active');

						$('html').stop(true).animate({
							scrollTop: sectionMainBottom
						},100,function(){
							sectionIsMoving = false;
						});
					}
				}

				//sesction01~02 on
				if(winScrollTop > sectionMainBottom){
					$('.section01').removeClass('on');
					$('.section02').addClass('on');
					$('.section_propose').addClass('on');
					$('.section_propose').addClass('active');
				} else {
					$('.section01').addClass('on');
					$('.section02').removeClass('on');
					$('.section_propose').removeClass('on');
				}
				
				//section_propose out
				if(winScrollTop > $('.section_gooddata').offset().top + 50){
					$('.main_container').removeClass('active')
					$('.section_propose').removeClass('active');
				} else {
					$('.main_container').addClass('active')
					$('.section_propose').addClass('active');
				}

				if(winScrollTop-fastIn-100 < sectionMainTop) {

					$('.main_container').removeClass('active');
					$('.section_propose').removeClass('active');

					$('html').stop(true).animate({
						scrollTop: sectionMainTop - 100 //헤더높이
					},100,function(){
						sectionIsMoving = false;
					});
				}
			}

			// 내차팔기 시세
			if($this.is(".section_carsell")){
				console.log('내차팔기');

				if(!$('.section_carsell').hasClass('active')){
					var typingBool = false;
					var typingIdx = 0;
					var typingTxt = "23가1234"; // 타이핑 될 텍스트
					
					typingTxt = typingTxt.split("");
					
					if(typingBool==false){
						typingBool=true;
						var tyInt = setInterval(typing,200); // 타이핑 시간제어
					}

					function typing(){
						if(typingIdx<typingTxt.length){
							$("#typing .text").append(typingTxt[typingIdx]);
							typingIdx++;
						} else{
							clearInterval(tyInt); //끝나면 반복종료
						}
					}
				}
			}

			if(isFunction && !checkInSection && !$('.main_container').hasClass('active')){
				checkInSection = true;
				$this.addClass('active');
			}
		}
	};

	// Header Hashtag
	function hashtagSticky() {

		if(winScrollTop >= 50) {
			$("#stickyTit").addClass('sticky');
			if (winScrollTop > lastScrollTop) {
				// console.log("scroll down");
				$("#stickyTit").removeClass('space50');
			} else {
				// console.log("scroll up");
				$("#stickyTit").addClass('space50');
			}
		} else {
			$("#stickyTit").removeClass('sticky');
		}
        lastScrollTop = winScrollTop;
	}

	function init() {
		scrollFunc();
	};

	$(window).scroll(function(e) {
		scrollFunc();
	});

	init();
};

$(function(){
	//Hello 시작
	setTimeout(function(){
		$('html, body').animate({scrollTop: '0'}, 0);
		$('.section_greeting').addClass('visible');
		setTimeout(function(){
			$('.main_container').addClass('on');
		},300);
	}, 100);


	//스와이프모음
	const swiperFaq = new Swiper(".slide_best", { //TOP3
		spaceBetween : 40,
		// direction: "vertical",
	});
	// const swiperService = new Swiper(".slide_service", { // 서비스
	// 	spaceBetween : 40,
	// });
	const swiperTop3 = new Swiper(".slide_faq", { // FAQ
		pagination: {
			el: ".swiper-pagination",
		},
	});

	$('.section_explore').SectionIn('active');
	$('.section_comingsoon').SectionIn('active'); //03.comingsoon
	$('.section_best').SectionIn('active'); //04.인기추천 top3
	$('.section_propose').SectionIn('parallax'); // 05.parallax
	$('.section_gooddata').SectionIn('active'); // 06.Good Data
	$('.section_carsell').SectionIn('active'); // 07.내차팔기
	$('.section_service').SectionIn('active'); // 08.고객서비스


	window.addEventListener('load', () =>{
		setTimeout(() => {
			scrollTo(0, 0);
		}, 100);
	});
});

</script>
</html>